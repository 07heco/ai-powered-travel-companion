# AI-Powered Travel Companion 项目文档

## 项目简介

AI-Powered Travel Companion 是一个现代化的智能旅行助手平台，结合了前端 React 技术和后端 Spring Boot 微服务架构，为用户提供全方位的旅行规划和管理服务。

### 核心功能

- **智能旅行规划**：基于 AI 技术生成个性化旅行计划
- **目的地探索**：发现全球热门目的地和景点
- **行程管理**：创建、编辑和分享旅行行程
- **预订系统**：酒店、机票、景点门票预订
- **AI 旅行伴侣**：智能聊天助手，提供旅行建议和支持
- **用户管理**：完整的用户认证和个人中心
- **消息通知**：实时消息和系统通知
- **钱包管理**：余额管理和优惠券系统

## 技术栈

### 前端技术

- **React 18.3.1**：现代化前端框架
- **TypeScript**：类型安全的 JavaScript 超集
- **Vite 6.3.5**：快速的前端构建工具
- **TailwindCSS 4.1.12**：实用优先的 CSS 框架
- **Radix UI**：高质量的 UI 组件库
- **Material UI**：Google 设计系统的 React 实现
- **React Router DOM 7.13.0**：客户端路由管理
- **Lucide React**：现代化图标库

### 后端技术

- **Spring Boot 3.2.10**：Java 企业级应用框架
- **Spring Cloud 2023.0.4**：微服务架构工具集
- **Spring AI 0.8.1**：AI 集成框架
- **MyBatis-Plus 3.5.6**：ORM 增强工具
- **MySQL 8.0**：关系型数据库
- **Redis 7.0**：缓存和会话存储
- **Elasticsearch 8.10.4**：搜索引擎
- **RocketMQ 4.9.7**：消息队列
- **RabbitMQ 3.12.10**：消息队列
- **Nacos 2.3.2**：服务发现和配置中心
- **Sentinel 1.8.6**：流量控制和熔断降级
- **XXL-Job 2.4.0**：分布式任务调度
- **Knife4j 4.5.0**：API 文档生成

### 微服务架构

- **Gateway 服务**：API 网关，请求路由和过滤
- **User 服务**：用户认证和管理
- **Destination 服务**：目的地和景点管理
- **Trip 服务**：行程规划和管理
- **Booking 服务**：预订管理
- **Payment 服务**：支付处理
- **AI 服务**：智能旅行助手和计划生成
- **Message 服务**：消息通知
- **Wallet 服务**：钱包和优惠券管理
- **Deals 服务**：优惠活动管理

## 项目结构

### 前端结构

```
frontend/
├── public/              # 静态资源
├── src/                 # 源代码
│   ├── app/             # 应用核心
│   │   ├── App.tsx      # 应用根组件
│   │   └── pages/       # 页面组件
│   ├── components/      # 通用组件
│   ├── hooks/           # 自定义钩子
│   ├── services/        # API 服务
│   ├── types/           # TypeScript 类型定义
│   ├── utils/           # 工具函数
│   └── index.tsx        # 应用入口
├── index.html           # HTML 模板
├── package.json         # 项目配置和依赖
├── vite.config.ts       # Vite 配置
└── tailwind.config.js   # TailwindCSS 配置
```

### 后端结构

```
backend/
├── common/              # 通用模块
│   └── src/             # 通用代码
├── gateway-service/     # 网关服务
├── user-service/        # 用户服务
├── destination-service/ # 目的地服务
├── trip-service/        # 旅行服务
├── booking-service/     # 预订服务
├── payment-service/     # 支付服务
├── ai-service/          # AI 服务
├── message-service/     # 消息服务
├── wallet-service/      # 钱包服务
├── deals-service/       # 优惠服务
└── pom.xml              # Maven 项目配置
```

## 前端功能模块

### 1. 用户认证

- **登录页面**：支持手机号+验证码、密码登录
- **注册页面**：用户注册和信息完善
- **忘记密码**：密码重置功能
- **第三方登录**：支持微信、QQ、微博登录

### 2. 目的地探索

- **首页**：热门目的地推荐、搜索功能
- **目的地列表**：按分类和热度展示目的地
- **目的地详情**：目的地介绍、图片、天气等信息
- **景点列表**：目的地相关景点
- **景点详情**：景点介绍、门票信息、评价等

### 3. 旅行计划

- **行程创建**：创建新的旅行计划
- **行程编辑**：修改行程详情和时间安排
- **行程详情**：查看详细的行程安排
- **行程分享**：分享行程给朋友
- **我的行程**：管理个人所有行程

### 4. 预订系统

- **酒店预订**：搜索和预订酒店
- **机票预订**：航班查询和预订
- **景点门票**：景点门票预订
- **预订列表**：查看所有预订记录
- **预订详情**：预订信息和状态

### 5. AI 旅行助手

- **AI 计划生成**：基于目的地和偏好生成旅行计划
- **旅行伴侣**：AI 聊天助手，提供旅行建议
- **智能推荐**：根据用户偏好推荐目的地和活动

### 6. 消息中心

- **系统通知**：平台系统消息
- **订单消息**：订单状态更新
- **活动通知**：促销活动和优惠信息

### 7. 个人中心

- **个人信息**：管理个人资料
- **我的订单**：查看所有订单
- **我的行程**：管理旅行行程
- **我的钱包**：余额管理和交易记录
- **优惠券**：查看和使用优惠券

## 后端 API 模块

### 1. 用户服务 API

- **认证接口**：登录、注册、退出
- **用户管理**：个人信息修改、密码修改
- **第三方登录**：微信、QQ、微博登录回调

### 2. 目的地服务 API

- **目的地管理**：目的地CRUD操作
- **景点管理**：景点CRUD操作
- **搜索接口**：目的地和景点搜索
- **推荐接口**：热门目的地推荐

### 3. 旅行服务 API

- **行程管理**：行程CRUD操作
- **行程详情**：行程项目管理
- **行程分享**：行程分享和查看

### 4. 预订服务 API

- **预订管理**：创建和管理预订（支持航班、酒店、门票等类型）
- **订单管理**：订单状态更新和查询
- **支付接口**：预订支付相关和支付回调处理
- **搜索接口**：航班、酒店、门票搜索
- **门票服务**：门票类型管理和验证

### 5. AI 服务 API

- **计划生成**：AI 旅行计划生成
- **聊天接口**：旅行伴侣聊天功能
- **推荐接口**：智能推荐功能

### 6. 消息服务 API

- **消息管理**：发送和接收消息
- **通知接口**：系统通知管理
- **消息状态**：消息已读未读状态更新

### 7. 钱包服务 API

- **余额管理**：钱包余额查询和更新
- **交易记录**：钱包交易历史
- **优惠券管理**：优惠券CRUD操作

### 8. 优惠服务 API

- **活动管理**：优惠活动CRUD操作
- **活动查询**：优惠活动列表和详情
- **活动状态**：活动过期和激活

## 安装和运行

### 前端安装和运行

1. **安装依赖**
   ```bash
   cd frontend
   npm install
   ```

2. **开发模式运行**
   ```bash
   npm run dev
   ```
   访问：http://localhost:5173/

3. **生产构建**
   ```bash
   npm run build
   ```

### 后端安装和运行

1. **编译项目**
   ```bash
   cd backend
   mvn compile
   ```

2. **运行网关服务**
   ```bash
   cd gateway-service
   mvn spring-boot:run
   ```

3. **运行其他服务**
   ```bash
   # 运行用户服务
   cd user-service
   mvn spring-boot:run
   
   # 运行目的地服务
   cd destination-service
   mvn spring-boot:run
   
   # 运行旅行服务
   cd trip-service
   mvn spring-boot:run
   
   # 运行预订服务
   cd booking-service
   mvn spring-boot:run
   
   # 运行消息服务
   cd message-service
   mvn spring-boot:run
   ```

### 服务访问地址

- **前端应用**：http://localhost:5173/
- **网关服务**：http://localhost:8080/
- **用户服务**：http://localhost:8081/
- **目的地服务**：http://localhost:8082/
- **旅行服务**：http://localhost:8083/
- **预订服务**：http://localhost:8089/
- **消息服务**：http://localhost:8087/

## API 文档

### 访问 API 文档

- **网关服务文档**：http://localhost:8080/doc.html
- **用户服务文档**：http://localhost:8081/doc.html
- **目的地服务文档**：http://localhost:8082/doc.html
- **旅行服务文档**：http://localhost:8083/doc.html
- **预订服务文档**：http://localhost:8089/doc.html
- **消息服务文档**：http://localhost:8087/doc.html

### API 文档使用

1. **查看接口列表**：文档页面左侧展示所有可用接口
2. **接口详情**：点击接口查看详细信息、参数和返回值
3. **测试接口**：在文档页面直接测试 API 接口
4. **下载文档**：支持下载 Swagger JSON 或 YAML 格式文档

## 技术架构

### 前端架构

- **单页应用**：React 单页应用架构
- **组件化设计**：模块化组件，提高代码复用
- **状态管理**：React Context API 和自定义 Hooks
- **响应式设计**：TailwindCSS 实现响应式布局
- **API 集成**：Axios 处理 HTTP 请求

### 后端架构

- **微服务架构**：Spring Cloud 微服务框架
- **服务发现**：Nacos 服务注册与发现
- **API 网关**：Spring Cloud Gateway 请求路由
- **数据存储**：MySQL 关系型数据库
- **缓存系统**：Redis 缓存
- **消息队列**：RabbitMQ 异步消息处理
- **分布式事务**：Seata 分布式事务管理
- **监控系统**：Sentinel 流量控制和熔断

### AI 集成

- **Spring AI**：集成 AI 模型
- **OpenAI**：使用 OpenAI API 提供智能服务
- **智能推荐**：基于用户行为的推荐系统
- **自然语言处理**：旅行伴侣聊天功能

## 部署方案

### 开发环境

- **前端**：Vite 开发服务器
- **后端**：本地 Maven 运行
- **数据库**：本地 MySQL 和 Redis

### 测试环境

- **前端**：Nginx 部署静态文件
- **后端**：Docker 容器化部署
- **数据库**：测试环境 MySQL 集群
- **CI/CD**：GitHub Actions 自动化测试

### 生产环境

- **前端**：CDN 加速静态资源
- **后端**：Kubernetes 集群部署
- **数据库**：生产环境 MySQL 主从复制
- **监控**：Prometheus 和 Grafana 监控
- **日志**：ELK 日志收集和分析

## 贡献指南

### 开发流程

1. **Fork 项目**：在 GitHub 上 Fork 项目仓库
2. **克隆代码**：克隆到本地开发环境
3. **创建分支**：创建功能分支进行开发
4. **提交代码**：提交代码并编写清晰的提交信息
5. **发起 PR**：向主分支发起 Pull Request
6. **代码审查**：等待代码审查和合并

### 代码规范

- **前端**：ESLint 和 Prettier 代码规范
- **后端**：Maven Checkstyle 代码规范
- **命名规范**：遵循各语言标准命名规范
- **注释规范**：关键代码添加详细注释

### 测试要求

- **单元测试**：核心功能单元测试
- **集成测试**：服务间集成测试
- **端到端测试**：关键业务流程测试

## 技术难点和解决方案

### 1. 微服务架构复杂性

**挑战**：服务间通信、数据一致性、故障处理

**解决方案**：
- 使用 Spring Cloud OpenFeign 实现服务间通信
- 采用 Saga 模式处理分布式事务
- 集成 Sentinel 实现服务容错

### 2. AI 模型集成

**挑战**：模型选择、API 调用、响应时间

**解决方案**：
- 使用 Spring AI 统一 AI 模型接口
- 实现模型缓存减少 API 调用
- 异步处理 AI 请求提高响应速度

### 3. 前端性能优化

**挑战**：首屏加载速度、组件渲染性能

**解决方案**：
- 代码分割和懒加载
- 组件 memoization 减少不必要渲染
- 图片优化和 CDN 加速

### 4. 安全性

**挑战**：用户认证、数据保护、API 安全

**解决方案**：
- JWT 无状态认证
- HTTPS 加密传输
- API 接口权限控制
- 输入验证和 SQL 注入防护

## 项目亮点

1. **AI 驱动**：智能旅行规划和聊天助手，提供个性化服务
2. **微服务架构**：模块化设计，易于扩展和维护
3. **全栈技术**：前后端分离，技术栈现代化
4. **用户体验**：响应式设计，流畅的界面交互
5. **完整功能**：从规划到预订的全流程服务
6. **可扩展性**：模块化设计，易于添加新功能
7. **安全性**：多层次安全防护措施

## 未来规划

1. **更多 AI 功能**：增强 AI 旅行助手能力，提供更智能的建议
2. **多语言支持**：国际化和多语言界面
3. **移动应用**：开发 iOS 和 Android 移动应用
4. **社交功能**：用户社区和旅行分享
5. **AR 增强**：景点 AR 导览功能
6. **智能硬件**：与智能手表等设备集成
7. **生态系统**：与更多旅游服务提供商集成

## 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

## 联系方式

- **项目维护者**：AI-Powered Travel Companion Team
- **GitHub**：https://github.com/07heco/ai-powered-travel-companion
- **邮箱**：contact@travelcompanion.com

---

感谢您对 AI-Powered Travel Companion 项目的关注和支持！